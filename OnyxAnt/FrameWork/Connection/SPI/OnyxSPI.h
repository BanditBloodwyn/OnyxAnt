//////////////////////////////////////////////////////////////////////////////////////////////////
// Name:		OnyxSPI.h
// Project:		OnyxAnt
// Purpose:		
//
// Created:		01.10.2019
// Author:		Kevin Eichenberg
//////////////////////////////////////////////////////////////////////////////////////////////////
#pragma once


#include <iostream>
#include <vector>

#include "bcm2835.h"
#include "SPIBase.h"
#include "SPIVar.h"
#include <STM/STM.h>


class OnyxSPI : public SPIBase
{
////////////////////////////////////////////
// structures
////////////////////////////////////////////
public:


////////////////////////////////////////////
// construction
////////////////////////////////////////////
public:
	OnyxSPI();
	~OnyxSPI();


////////////////////////////////////////////
// methods
////////////////////////////////////////////
public:
	bool						spiInit();
	int							spiTranceive(uint8_t nDataToSend);

	STMRESULT					Control();

	bool						RegisterSPIVar(uint8_t& rTheVariable, string sName);


////////////////////////////////////////////
// attributes
////////////////////////////////////////////
protected:
	vector<SPIVar*>				m_vSPIVars;
};